import { app } from "../app";
import { ILoginPostButton } from "../schemas/ILoginPostButton";
import loginPostbuttonSchema from "../schemas/ILoginPostButton.json";
import { validateLogin } from "../utils/db/db";

app.post<{
  Body: ILoginPostButton;
}>(
  "/login/",
  {
    schema: {
      body: loginPostbuttonSchema,
    },
  },
  async (req, res) => {
    if (!validateLogin(req.body.username, req.body.password)) {
      return;
    }
    res.send("Login Successful");
  }
);
